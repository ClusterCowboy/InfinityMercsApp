<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:InfinityMercsApp.ViewModels"
             x:Class="InfinityMercsApp.Views.SettingsPage"
             x:DataType="viewModels:MainViewModel"
             Title="Settings">

    <Grid>
        <VerticalStackLayout Padding="24" Spacing="16" VerticalOptions="Center">
            <VerticalStackLayout Spacing="8">
                <Label
                    Text="Show Units in:"
                    FontAttributes="Bold" />
                <HorizontalStackLayout Spacing="16">
                    <RadioButton
                        Content="Inches"
                        GroupName="GlobalDisplayUnits"
                        IsChecked="{Binding ShowUnitsInInches}" />
                    <RadioButton
                        Content="Centimeters"
                        GroupName="GlobalDisplayUnits"
                        IsChecked="{Binding ShowUnitsInCentimeters}" />
                </HorizontalStackLayout>
            </VerticalStackLayout>

            <Button
                Text="Force online update"
                Command="{Binding UpdateAllDataCommand}"
                IsEnabled="{Binding CanForceUpdate}"
                HorizontalOptions="Fill" />

            <Label
                Text="{Binding UpdateStatus}"
                LineBreakMode="WordWrap" />
        </VerticalStackLayout>

        <Grid
            IsVisible="{Binding IsUpdateInProgress}"
            InputTransparent="False"
            BackgroundColor="#80000000">
            <Border
                Padding="16"
                StrokeThickness="1"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                MinimumWidthRequest="280">
                <VerticalStackLayout Spacing="10">
                    <Label
                        Text="Force Update Running"
                        FontAttributes="Bold"
                        FontSize="18"
                        HorizontalTextAlignment="Center" />
                    <ActivityIndicator IsRunning="True" HorizontalOptions="Center" />
                    <Label
                        Text="{Binding UpdateProgressMessage}"
                        HorizontalTextAlignment="Center"
                        LineBreakMode="WordWrap" />
                </VerticalStackLayout>
            </Border>
        </Grid>
    </Grid>

</ContentPage>

